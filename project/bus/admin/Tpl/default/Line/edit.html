	<table id="table" class="tablesorter" border="1" cellpadding="2" cellspacing="0" width="100%" bordercolor="#999999" style="border-collapse:collapse;">
	<thead>
	<tr>
		<th>字段</th>
		<th>本地数据</th>
		<th>官方数据(<a href="__URL__/clear/number/{$local_info['number']}" target="_iframe">清除缓存</a>)</th>
		<th>操作</th>
	</tr>
	</thead>
	<tr>
		<td bgcolor="#ededed">线路名称</td>
		<td bgcolor="#FFDEAD">{$local_info['name']}</td>
		<td bgcolor="#98FB98">{$remote_info['name']}</td>
		<td><neq name="local_info['name']" value="$remote_info['name']"><img src="../Public/Image/tick.gif" style="cursor:pointer" onclick="update('name','{$remote_info.name|str_replace='/','_',###}')" alt="update" align="absmiddle"/></neq></td>
	</tr>
	<tr>
		<td bgcolor="#ededed">起点</td>
		<td bgcolor="#FFDEAD">{$site[$local_info['start_sid']]}</td>
		<td bgcolor="#98FB98">{$remote_info['start_name']}</td>
		<td><neq name="site[$local_info['start_sid']]" value="$remote_info['start_name']"><img src="../Public/Image/tick.gif" style="cursor:pointer" onclick="update('start_sid','{$remote_info['start_name']}')" alt="update" align="absmiddle"/></neq></td>
	</tr>
	<tr>
		<td bgcolor="#ededed">起点首班</td>
		<td bgcolor="#FFDEAD">{$local_info['start_first']}</td>
		<td bgcolor="#98FB98">{$remote_info['start_first']}</td>
		<td><neq name="local_info['start_first']" value="$remote_info['start_first']"><img src="../Public/Image/tick.gif" style="cursor:pointer" onclick="update('start_first','{$remote_info['start_first']}')" alt="update" align="absmiddle"/></neq></td>
	</tr>
	<tr>
		<td bgcolor="#ededed">起点末班</td>
		<td bgcolor="#FFDEAD">{$local_info['start_last']}</td>
		<td bgcolor="#98FB98">{$remote_info['start_last']}</td>
		<td><neq name="local_info['start_last']" value="$remote_info['start_last']"><img src="../Public/Image/tick.gif" style="cursor:pointer" onclick="update('start_last','{$remote_info['start_last']}')" alt="update" align="absmiddle"/></neq></td>
	</tr>
	<tr>
		<td bgcolor="#ededed">终点</td>
		<td bgcolor="#FFDEAD">{$site[$local_info['end_sid']]}</td>
		<td bgcolor="#98FB98">{$remote_info['end_name']}</td>
		<td><neq name="site[$local_info['end_sid']]" value="$remote_info['end_name']"><img src="../Public/Image/tick.gif" style="cursor:pointer" onclick="update('end_sid','{$remote_info['end_name']}')" alt="update" align="absmiddle"/></neq></td>
	</tr>
	<tr>
		<td bgcolor="#ededed">终点首班</td>
		<td bgcolor="#FFDEAD">{$local_info['end_first']}</td>
		<td bgcolor="#98FB98">{$remote_info['end_first']}</td>
		<td><neq name="local_info['end_first']" value="$remote_info['end_first']"><img src="../Public/Image/tick.gif" style="cursor:pointer" onclick="update('end_first','{$remote_info['end_first']}')" alt="update" align="absmiddle"/></neq></td>
	</tr>
	<tr>
		<td bgcolor="#ededed">终点末班</td>
		<td bgcolor="#FFDEAD">{$local_info['end_last']}</td>
		<td bgcolor="#98FB98">{$remote_info['end_last']}</td>
		<td><neq name="local_info['end_last']" value="$remote_info['end_last']"><img src="../Public/Image/tick.gif" style="cursor:pointer" onclick="update('end_last','{$remote_info['end_last']}')" alt="update" align="absmiddle"/></neq></td>
	</tr>
	<tr>
		<td bgcolor="#ededed">普通车</td>
		<td bgcolor="#FFDEAD">{$local_info['fare_norm']}</td>
		<td bgcolor="#98FB98">{$remote_info['fare_norm']}</td>
		<td><neq name="local_info['fare_norm']" value="$remote_info['fare_norm']"><img src="../Public/Image/tick.gif" style="cursor:pointer" onclick="update('fare_norm','{$remote_info['fare_norm']}')" alt="update" align="absmiddle"/></neq></td>
	</tr>
	<tr>
		<td bgcolor="#ededed">空调车</td>
		<td bgcolor="#FFDEAD">{$local_info['fare_cond']}</td>
		<td bgcolor="#98FB98">{$remote_info['fare_cond']}</td>
		<td><neq name="local_info['fare_cond']" value="$remote_info['fare_cond']"><img src="../Public/Image/tick.gif" style="cursor:pointer" onclick="update('fare_cond','{$remote_info['fare_cond']}')" alt="check" align="absmiddle"/></neq></td>
	</tr>
	<tr>
		<td bgcolor="#ededed">可用IC卡</td>
		<td bgcolor="#FFDEAD">{$local_info['ic_card']}</td>
		<td bgcolor="#98FB98">{$remote_info['ic_card']}</td>
		<td><neq name="local_info['ic_card']" value="$remote_info['ic_card']"><img src="../Public/Image/tick.gif" style="cursor:pointer" onclick="update('ic_card','{$remote_info['ic_card']}')" alt="update" align="absmiddle"/></neq></td>
	</tr>
	<tr>
		<td bgcolor="#ededed">服务时间</td>
		<td bgcolor="#FFDEAD">{$local_info['service_day']}</td>
		<td bgcolor="#98FB98">{$remote_info['service_day']}</td>
		<td><neq name="local_info['service_day']" value="$remote_info['service_day']"><img src="../Public/Image/tick.gif" style="cursor:pointer" onclick="update('service_day','{$remote_info['service_day']}')" alt="update" align="absmiddle"/></neq></td>
	</tr>
	<tr>
		<form action="__URL__/update" method="post" target="_iframe">
		<input type="hidden" name="type" value="route" />
		<input type="hidden" name="dir" value="1"/>
		<input type="hidden" name="lid" value="{$local_info['id']}" />
		<td bgcolor="#ededed" class="a_center">上行</td>
		<td valign="top" bgcolor="#FFDEAD">
			<table width="100%">
			<iterate name="local_list1" id="item">
			<tr>
				<td class="a_right">{$site[$item['sid']]}</td>
			</tr>
			</iterate>
			</table>
		</td>
		<td valign="top" bgcolor="#98FB98">
			<table width="100%">
			<iterate name="remote_info.list1" id="item">
			<tr>
				<td class="a_left">{$item}
				<if condition="$item neq $site[$local_list1[$i-1]['sid']]"><img src="../Public/Image/warning.gif" alt="?" align="absmiddle"/></if>
				<input type="hidden" name="site[]" value="{$item}"/></td>
			</tr>
			</iterate>
			</table>
		</td>
		<td class="a_center"><present name="E1"><input type="image" src="../Public/Image/tick.gif" alt="check" align="absmiddle"/></present></td>
		</form>
	</tr>
	<tr>
		<form action="__URL__/update" method="post" target="_iframe">
		<input type="hidden" name="type" value="route" />
		<input type="hidden" name="dir" value="-1"/>
		<input type="hidden" name="lid" value="{$local_info['id']}" />
		<td bgcolor="#ededed" class="a_center">下行</td>
		<td valign="top" bgcolor="#FFDEAD">
			<table width="100%">
			<iterate name="local_list2" id="item">
			<tr>
				<td class="a_right">{$site[$item['sid']]}</td>
			</tr>
			</iterate>
			</table>
		</td>
		<td valign="top" bgcolor="#98FB98">
			<table width="100%">
			<iterate name="remote_info.list2" id="item">
			<tr>
				<td class="a_left">{$item}
				<if condition="$item neq $site[$local_list2[$i-1]['sid']]"><img src="../Public/Image/warning.gif" alt="?" align="absmiddle"/></if>
				<input type="hidden" name="site[]" value="{$item}"/></td>
			</tr>
			</iterate>
			</table>
		</td>
		<td class="a_center"><present name="E2"><input type="image" src="../Public/Image/tick.gif" alt="check" align="absmiddle"/></present></td>
		</form>
	</tr>
	<tr>
		<td colspan="4" class="a_center"><notpresent name="E1"><notpresent name="E2"><img src="../Public/Image/tick.gif" style="cursor:pointer" onclick="update('status','1')" alt="check" align="absmiddle"/></notpresent></notpresent></td>
	</tr>
	</table>
	
<script language="JavaScript" type="text/javascript">
function update(field,value){
	$("#_iframe").attr("src", _URL_+"/update/f/"+field+"/v/"+str_replace('/', '|', value)+"/id/{$local_info['id']}/");
}
function str_replace (search, replace, subject, count) {
    // Replaces all occurrences of search in haystack with replace  
    // 
    // version: 909.322
    // discuss at: http://phpjs.org/functions/str_replace    // +   original by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
    // +   improved by: Gabriel Paderni
    // +   improved by: Philip Peterson
    // +   improved by: Simon Willison (http://simonwillison.net)
    // +    revised by: Jonas Raoni Soares Silva (http://www.jsfromhell.com)    // +   bugfixed by: Anton Ongson
    // +      input by: Onno Marsman
    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
    // +    tweaked by: Onno Marsman
    // +      input by: Brett Zamir (http://brett-zamir.me)    // +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
    // +   input by: Oleg Eremeev
    // +   improved by: Brett Zamir (http://brett-zamir.me)
    // +   bugfixed by: Oleg Eremeev
    // %          note 1: The count parameter must be passed as a string in order    // %          note 1:  to find a global variable in which the result will be given
    // *     example 1: str_replace(' ', '.', 'Kevin van Zonneveld');
    // *     returns 1: 'Kevin.van.Zonneveld'
    // *     example 2: str_replace(['{name}', 'l'], ['hello', 'm'], '{name}, lars');
    // *     returns 2: 'hemmo, mars'    var i = 0, j = 0, temp = '', repl = '', sl = 0, fl = 0,
            f = [].concat(search),
            r = [].concat(replace),
            s = subject,
            ra = r instanceof Array, sa = s instanceof Array;    s = [].concat(s);
    if (count) {
        this.window[count] = 0;
    }
     for (i=0, sl=s.length; i < sl; i++) {
        if (s[i] === '') {
            continue;
        }
        for (j=0, fl=f.length; j < fl; j++) {            temp = s[i]+'';
            repl = ra ? (r[j] !== undefined ? r[j] : '') : r[0];
            s[i] = (temp).split(f[j]).join(repl);
            if (count && s[i] !== temp) {
                this.window[count] += (temp.length-s[i].length)/f[j].length;}        }
    }
    return sa ? s : s[0];
}
</script>