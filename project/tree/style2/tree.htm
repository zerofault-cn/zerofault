<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>太平洋电脑网</title>
<script type="text/javascript">
//more javascript from http://www.smallrain.net
var temp, temp2, cookieArray, cookieArray2, cookieCount;

function initiate(){
	cookieCount=0;
	if(document.cookie){
		cookieArray=document.cookie.split(";");
		cookieArray2=new Array();
		for(i in cookieArray){
		cookieArray2[cookieArray[i].split("=")[0].replace(/ /g,"")]=cookieArray[i].split("=")[1].replace(/ /g,"");
		}
	}
	cookieArray=(document.cookie.indexOf("state=")>=0)?cookieArray2["state"].split(","):new Array();
	temp=document.getElementById("containerul");
	for(var o=0;o<temp.getElementsByTagName("li").length;o++){
		if(temp.getElementsByTagName("li")[o].getElementsByTagName("ul").length>0){
			temp2= document.createElement("span");
			temp2.className= "symbols";
			temp2.style.backgroundImage=(cookieArray.length>0)?((cookieArray[cookieCount]=="true")?"url(minus.png)":"url(plus.png)"):"url(plus.png)";
			temp2.onclick=function(){
				showhide(this.parentNode);
				writeCookie();
			}
			temp.getElementsByTagName("li")[o].insertBefore(temp2,temp.getElementsByTagName("li")[o].firstChild)
			temp.getElementsByTagName("li")[o].getElementsByTagName("ul")[0].style.display = "none";
			if(cookieArray[cookieCount]=="true"){
				showhide(temp.getElementsByTagName("li")[o]);
			}
			cookieCount++;
		}
		else{
			temp2				= document.createElement("span");
			temp2.className			= "symbols";
			temp2.style.backgroundImage	= "url(page.png)";
			temp.getElementsByTagName("li")[o].insertBefore(temp2,temp.getElementsByTagName("li")[o].firstChild);
		}
	}
}

function showhide(el){
	el.getElementsByTagName("ul")[0].style.display=(el.getElementsByTagName("ul")[0].style.display=="block")?"none":"block";
	el.getElementsByTagName("span")[0].style.backgroundImage=(el.getElementsByTagName("ul")[0].style.display=="block")?"url(minus.png)":"url(plus.png)";
}

// Runs through the menu and puts the "states" of each nested list into an array, the array is then joined together and assigned to a cookie.
function writeCookie(){
	cookieArray=new Array()
	for(var q=0;q<temp.getElementsByTagName("li").length;q++){
		if(temp.getElementsByTagName("li")[q].childNodes.length>0){
			if(temp.getElementsByTagName("li")[q].childNodes[0].nodeName=="SPAN" && temp.getElementsByTagName("li")[q].getElementsByTagName("ul").length>0){
				cookieArray[cookieArray.length]=(temp.getElementsByTagName("li")[q].getElementsByTagName("ul")[0].style.display=="block");
			}
		}
	}
	document.cookie="state="+cookieArray.join(",")+";expires="+new Date(new Date().getTime() + 365*24*60*60*1000).toGMTString();
}
</script>
<style type="text/css">
<!--
#containerul, #containerul ul{
  text-align:left;
  margin:0;				/* Removes browser default margins applied to the lists. */
  padding:0;				/* Removes browser default padding applied to the lists. */
}
#containerul li{
  margin:0 0 0 15px;			/* A left margin to indent the list items and give the menu a sense of structure. */
  padding:0;				/* Removes browser default padding applied to the list items. */
  list-style-type:none;			/* Removes the bullet point that usually goes next to each item in a list. */
}
#containerul .symbols{			/* Various styles to position the symbols next to the items in the menu. */
  float:left;
  width:12px;
  height:1em;
  background-position:0 50%;
  background-repeat:no-repeat;
}
-->
</style>
</head>
<body>
<ul id="containerul">
  <li> 太平洋电脑网 
    <ul>
      <li> <a href="http://www.pconline.com.cn/pcedu">软件资讯</a> 
      </li>
      <li>
        <a href="http://www.pconline.com.cn/pchardware">硬件资讯 </a>
      </li>
      <li>
        <a href="http://www.pconline.com.cn/pcedu/carton">FLASH剧场 </a>
      </li>
    </ul>
  </li>
  <li> 设计素材 
    <ul>
      <li>
        <a href="http://dlc.pconline.com.cn/thirdcolumn.jsp?dltypeid=4&kindid=18">设计素材</a>
      </li>
      <li>
        <a href="http://dlc.pconline.com.cn/thirdcolumn.jsp?dltypeid=4&kindid=12">代码素材</a>
        <ul>
          <li>
            <a href="http://dlc.pconline.com.cn/list.jsp?dltypeid=4&kindid=1203">特效</a>
          </li>
          <li>
            <a href="http://dlc.pconline.com.cn/list.jsp?dltypeid=4&kindid=1202">整蛊</a>
          </li>
          <li>
            <a href="http://dlc.pconline.com.cn/list.jsp?dltypeid=4&kindid=1210">图像</a>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
<script type="text/javascript">
initiate();		// This must be placed immediately after the menu in order to format it properly.
</script>
<h3>树形菜单</h3>
<p>说明：一个很容易制作树形菜单，你可以无限级的添加下级菜单，菜单是通过列表方式写成的 </p>
</body>
</html>
