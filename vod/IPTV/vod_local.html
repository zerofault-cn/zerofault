<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>FM收听</title>
<script language="JavaScript" type="text/JavaScript" src="locateCSS.js"></script>
<script language="JavaScript" type="text/JavaScript" src="functions.js"></script>
<script language="JavaScript" type="text/JavaScript">

var str_arr=new Array();
str_arr[0]=new Array();
str_arr[0][0]="本地下载目录1";
str_arr[0][1]=new Array();
str_arr[0][1][0]="频道1";
str_arr[0][1][1]="http://sta1";
str_arr[0][2]=new Array();
str_arr[0][2][0]="频道2";
str_arr[0][2][1]="http://sta2";
str_arr[1]=new Array();
str_arr[1][0]="本地下载目录2";
str_arr[1][1]=new Array();
str_arr[1][1][0]="频道11";
str_arr[1][1][1]="http://sta11";
str_arr[1][2]=new Array();
str_arr[1][2][0]="频道22";
str_arr[1][2][1]="http://sta22";
str_arr[1][3]=new Array();
str_arr[1][3][0]="频道33";
str_arr[1][3][1]="http://sta33";
str_arr[2]=new Array();
str_arr[2][0]="本地下载目录3";
str_arr[2][1]=new Array();
str_arr[2][1][0]="频道11";
str_arr[2][1][1]="http://sta11";
str_arr[2][2]=new Array();
str_arr[2][2][0]="频道22";
str_arr[2][2][1]="http://sta22";
str_arr[2][3]=new Array();
str_arr[2][3][0]="频道33";
str_arr[2][3][1]="http://sta33";
str_arr[2][4]=new Array();
str_arr[2][4][0]="频道33";
str_arr[2][4][1]="http://sta33";
str_arr[3]=new Array();
str_arr[3][0]="本地下载目录3";
str_arr[3][1]=new Array();
str_arr[3][1][0]="频道11";
str_arr[3][1][1]="http://sta11";
str_arr[3][2]=new Array();
str_arr[3][2][0]="频道22";
str_arr[3][2][1]="http://sta22";
str_arr[3][3]=new Array();
str_arr[3][3][0]="频道33";
str_arr[3][3][1]="http://sta33";
str_arr[3][4]=new Array();
str_arr[3][4][0]="频道33";
str_arr[3][4][1]="http://sta33";
str_arr[4]=new Array();
str_arr[4][0]="本地下载目录3";
str_arr[4][1]=new Array();
str_arr[4][1][0]="频道11";
str_arr[4][1][1]="http://sta11";
str_arr[4][2]=new Array();
str_arr[4][2][0]="频道22";
str_arr[4][2][1]="http://sta22";
str_arr[4][3]=new Array();
str_arr[4][3][0]="频道33";
str_arr[4][3][1]="http://sta33";
str_arr[4][4]=new Array();
str_arr[4][4][0]="频道33";
str_arr[4][4][1]="http://sta33";
str_arr[5]=new Array();
str_arr[5][0]="本地下载目录3";
str_arr[5][1]=new Array();
str_arr[5][1][0]="频道11";
str_arr[5][1][1]="http://sta11";
str_arr[5][2]=new Array();
str_arr[5][2][0]="频道22";
str_arr[5][2][1]="http://sta22";
str_arr[5][3]=new Array();
str_arr[5][3][0]="频道33";
str_arr[5][3][1]="http://sta33";
str_arr[5][4]=new Array();
str_arr[5][4][0]="频道33";
str_arr[5][4][1]="http://sta33";
str_arr[6]=new Array();
str_arr[6][0]="本地下载目录3";
str_arr[6][1]=new Array();
str_arr[6][1][0]="频道11";
str_arr[6][1][1]="http://sta11";
str_arr[6][2]=new Array();
str_arr[6][2][0]="频道22";
str_arr[6][2][1]="http://sta22";
str_arr[6][3]=new Array();
str_arr[6][3][0]="频道33";
str_arr[6][3][1]="http://sta33";
str_arr[6][4]=new Array();
str_arr[6][4][0]="频道33";
str_arr[6][4][1]="http://sta33";
str_arr[7]=new Array();
str_arr[7][0]="本地下载目录3";
str_arr[7][1]=new Array();
str_arr[7][1][0]="频道11";
str_arr[7][1][1]="http://sta11";
str_arr[7][2]=new Array();
str_arr[7][2][0]="频道22";
str_arr[7][2][1]="http://sta22";
str_arr[7][3]=new Array();
str_arr[7][3][0]="频道33";
str_arr[7][3][1]="http://sta33";
str_arr[7][4]=new Array();
str_arr[7][4][0]="频道33";
str_arr[7][4][1]="http://sta33";
str_arr[7][5]=new Array();
str_arr[7][5][0]="频道33";
str_arr[7][5][1]="http://sta33";
str_arr[7][6]=new Array();
str_arr[7][6][0]="频道33";
str_arr[7][6][1]="http://sta33";
str_arr[7][7]=new Array();
str_arr[7][7][0]="频道33";
str_arr[7][7][1]="http://sta33";
str_arr[7][8]=new Array();
str_arr[7][8][0]="频道33";
str_arr[7][8][1]="http://sta33";
str_arr[7][9]=new Array();
str_arr[7][9][0]="频道33";
str_arr[7][9][1]="http://sta33";
str_arr[7][10]=new Array();
str_arr[7][10][0]="频道33";
str_arr[7][10][1]="http://sta33";
var left_item=8;//左边项目行数
var right_item=10;//右边项目行数
var left_focus=0;
var right_focus=0;
function init()
{
	for(i=0; i < Math.min(str_arr.length,left_item); i++)
	{
		document.getElementById(i).innerHTML=str_arr[i][0];
	}
	left_onfoc(0);
}
function left_onfoc(n)
{
	document.getElementById(n%left_item).style.backgroundImage="url(src_"+src_width+"/image/fm/bar1.gif)";
	document.getElementById(n%left_item).style.color="#ffffff";
	show(n);
}
function left_losefoc(n)
{
	document.getElementById(n%left_item).style.backgroundImage="";
	document.getElementById(n%left_item).style.color="#b6dbf8";
}
function right_onfoc(n)
{
	document.getElementById(n%right_item+10).style.backgroundImage="url(src_"+src_width+"/image/fm/bar2.gif)";
	td=document.getElementById(n%right_item+10);
	dat =td.innerHTML;
	dat = dat.substring(dat.indexOf("href="));
	td.innerHTML = '<a style="color:#ffffff" ' + dat;
	document.links[n%right_item].focus();
}
function right_losefoc(n)
{
	document.getElementById(n%right_item+10).style.backgroundImage="";
	td=document.getElementById(n%right_item+10);
	dat =td.innerHTML;
	dat = dat.substring(dat.indexOf("href="));
	td.innerHTML = '<a style="color:#b6dbf8" ' + dat;
}
function show(n) 
{
	for(i = 0; i < Math.min(str_arr[n].length-1,right_item); i++)
	{
		document.getElementById(i+10).innerHTML='<a style="color:#b6dbf8" href="javascript:void(0)">'+str_arr[n][i+1][0]+'</a>';
	}
	for(i=str_arr[n].length-1;i<right_item;i++)
	{
		document.getElementById(Math.round(i)+10).innerHTML='&nbsp;';
	}
	right_onfoc(0);
}

function left_newPage(n)
{
	if(n%left_item == left_item-1)//往上翻
	{		
		for(i = 0; i < left_item; i++) 
		{
			document.getElementById(i).innerHTML=str_arr[n-left_item+1+i][0];
		}
	}
	else //往下翻
	{
		for(i = 0; i < left_item; i++) 
		{
			if((n + i) > (str_arr.length - 1)) 
			{
				document.getElementById(i).innerHTML='';
			}
			else 
			{
				document.getElementById(i).innerHTML=str_arr[n+i][0];
			}
		}
	}
	left_onfoc(n);
}

function right_newPage(left_n,right_n)
{
	if((right_n % right_item) == (right_item-1))//向前翻页
	{		
		for(i = 0; i < right_item; i++) 
		{
			document.getElementById(i+10).innerHTML='<a style="color:#b6dbf8" href="javascript:void(0)">'+str_arr[left_n][right_n-(right_item-1)+i+1][0]+'</a>';
		}
	}
	else//向后翻页
	{
		for(i = 0; i < right_item; i++) 
		{
			if((right_n + i) > (str_arr[left_n].length-2)) 
			{
				document.getElementById(i+10).innerHTML='&nbsp;';
			}
			else 
			{
				document.getElementById(i+10).innerHTML='<a style="color:#b6dbf8" href="javascript:void(0)">'+str_arr[left_n][right_n+i+1][0]+'</a>';
			}
		}
	}
	right_onfoc(right_n);
}

function end()
{
	document.getElementById('blink').innerHTML='<br><blink>【0】键查看帮助</blink>';
}


function keyDown(e)
{
	if (ie)
	{
		var keycode=event.keyCode; 
	}
	else
	{
		var keycode=e.which;
	}
	if(keycode==37 && left_focus > 0)
	{
		left_losefoc(left_focus);
		right_losefoc(right_focus);
		right_focus=0;
		j = left_focus % left_item;
		left_focus--;
		if(j == 0) 
		{
			left_newPage(left_focus);
		}
		else 
		{
			left_onfoc(left_focus);
		}
	}
	if(keycode==39 && left_focus < str_arr.length-1)
	{
		left_losefoc(left_focus);
		right_losefoc(right_focus);
		right_focus=0;j = left_focus % left_item;
		left_focus++;
		if(j == left_item-1) 
		{
			left_newPage(left_focus);
		}
		else 
		{
			left_onfoc(left_focus);
		}
		
	}
	if(keycode==38 && right_focus > 0)
	{
		right_losefoc(right_focus);
		j = right_focus % right_item;
		right_focus--;
		if(j == 0)
		{
			right_newPage(left_focus,right_focus);
		}
		else
		{
			right_onfoc(right_focus);
		}
	}
	if(keycode==40 && right_focus < str_arr[left_focus].length-2)
	{
		right_losefoc(right_focus);
		j = right_focus % right_item;
		right_focus++;
		if(j == (right_item-1))
		{
			right_newPage(left_focus,right_focus);
		}
		else
		{
			right_onfoc(right_focus);
		}
	}
	if(keycode==13 || keycode==70)//播放键,播放光标位置所在处的歌曲
	{
		document.getElementById('nowplay').innerHTML='正在收听：'+str_arr[left_focus][0]+' '+str_arr[left_focus][right_focus+1][0];
		location=str_arr[left_focus][right_focus+1][1];
	}
	if(keycode==36)//返回
	{
		location="index.html";
	}
}
document.onkeydown=keyDown
</script>
</head>

<body id="fm_index" onload="init()">
<div id="topnavi">
<span class="topnavi">FM收听</span>
</div>
<div id="fm_left_item">
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
	<td id=0 class="fm_left_item"></td>
</tr>
<tr>
	<td id=1 class="fm_left_item"></td>
</tr>
<tr>
	<td id=2 class="fm_left_item"></td>
</tr>
<tr>
	<td id=3 class="fm_left_item"></td>
</tr>
<tr>
	<td id=4 class="fm_left_item"></td>
</tr>
<tr>
	<td id=5 class="fm_left_item"></td>
</tr>
<tr>
	<td id=6 class="fm_left_item"></td>
</tr>
<tr>
	<td id=7 class="fm_left_item"></td>
</tr>
</table>
</div>
<div id="fm_right_item">
<table width="100%" border=0 cellpadding=0 cellspacing=0 rules=rows frame=void class="style30b">
<tr>
	<td id=10 class="fm_right_item"></td>
</tr>
<tr>
	<td id=11 class="fm_right_item"></td>
</tr>
<tr>
	<td id=12 class="fm_right_item"></td>
</tr>
<tr>
	<td id=13 class="fm_right_item"></td>
</tr>
<tr>
	<td id=14 class="fm_right_item"></td>
</tr>
<tr>
	<td id=15 class="fm_right_item"></td>
</tr>
<tr>
	<td id=16 class="fm_right_item"></td>
</tr>
<tr>
	<td id=17 class="fm_right_item"></td>
</tr>
<tr>
	<td id=18 class="fm_right_item"></td>
</tr>
</table>
</div>
<div id="fm_nowplay">
<span id="nowplay">请选择电台频道,按"确定"或"播放"键开始收听!</span>
</div>
</body>
</html>
